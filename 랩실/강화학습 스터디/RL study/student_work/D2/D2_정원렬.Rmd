---
title: "D2_jeong,wonryeol"
author: "Jeong, wonryeol"
date: "1/14/2021"
output:
  pdf_document:
    latex_engine: xelatex
    toc : true
    toc_depth: 2  
    

---
\vspace{30pt}


## 17_page

```{python}
import numpy as np 


P = np.array([0.7,0.5,0.3,0.5]).reshape(2,2,order = 'F')
R = np.array([1.5,1]).reshape(2,1)


gamma = 0.9

v = np.dot(np.linalg.inv(np.identity(2)-gamma*P),R)

v

```
\newpage


## 23_page R-code to python 
```{python}
#iterative solution

import numpy as np 


P = np.array([0.7,0.5,0.3,0.5]).reshape(2,2,order = 'F')
R = np.array([1.5,1]).reshape(2,1)
gamma = 0.9
epsilon = 10**-8
v_old = np.zeros(2).reshape(2,1)
v_new = v_new = R + np.dot(gamma*P,v_old)   

while np.amax(v_new - v_old)>epsilon:
    v_old = v_new
    v_new = v_new = R + np.dot(gamma*P,v_old)   


print(v_new)
```

\newpage

## 24_page the full iteration process


```{python}
# The full iteration process
import numpy as np 
import pandas as pd 


P = np.array([0.7,0.5,0.3,0.5]).reshape(2,2,order = 'F')
R = np.array([1.5,1]).reshape(2,1)
gamma = 0.9
epsilon = 10**-8
v_old = np.zeros(2).reshape(2,1)

v_new = v_new = R + np.dot(gamma*P,v_old)   

results = v_old.T
results = np.append(results,v_new.T,axis = 0)

while np.amax(v_new - v_old)>epsilon:
    
    v_old = v_new
    v_new = R + np.dot(gamma*P,v_old)    
    results = np.append(results,v_new.T,axis = 0)

print(results[-10])
results = pd.DataFrame(results,columns = ['coke','pepsi'])

results

```

\newpage

## 26_page visualization

```{python}
import matplotlib.pyplot as plt
plt.scatter(results.index,results['coke'],label = 'coke')
plt.scatter(results.index,results['pepsi'],label = 'pepsi')
plt.xlabel('idx')
plt.ylabel('value_fn')
plt.grid(linestyle = '-',linewidth = 1)

plt.show()

```


\newpage

## 27_page visualization
```{python}
#after 50 step 


plt.scatter(results[49:].index ,results['coke'][49:],label = 'coke')
plt.xlabel('idx')
plt.ylabel('value_fn')
plt.grid(linestyle = '-',linewidth = 1)
plt.show()

```



```{python}

#after 100 step

plt.scatter(results[99:].index ,results['coke'][99:],label = 'coke')
plt.xlabel('idx')
plt.ylabel('value_fn')
plt.grid(linestyle = '-',linewidth = 1)
plt.show()
```

